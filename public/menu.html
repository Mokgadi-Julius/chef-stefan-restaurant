<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Private Chef Menu Cape Town | Chef Stefan Bekker - Bespoke Culinary Experiences</title>
  <meta content="Explore Chef Stefan's award-winning private chef menu in Cape Town. Fine dining, comfort food, canapÃ©s, boere kos & custom dishes. Serving Cape Town, Stellenbosch, Paarl & Somerset West. Book individual dishes or complete dining experiences." name="description">
  <meta content="private chef menu cape town, chef stefan menu, fine dining cape town, bespoke menu stellenbosch, culinary menu western cape, private dining menu paarl, chef menu somerset west, boere kos chef, luxury catering menu cape town" name="keywords">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://chefstefan.co.za/menu.html">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <link href="assets/css/style.css?v=1.0.1" rel="stylesheet">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <!-- Custom Menu Icon Styles -->
  <style>
    .menu-filter-tabs .nav-link {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* Font Awesome icons */
    .menu-filter-tabs .nav-link i {
      font-size: 1.3em !important;
      color: #fff !important;
      min-width: 24px;
      text-align: center;
      opacity: 0.9;
      transition: all 0.3s ease;
    }
    
    .menu-filter-tabs .nav-link:hover i,
    .menu-filter-tabs .nav-link.active i {
      opacity: 1 !important;
      transform: scale(1.1);
      color: #fff !important;
    }
    
    /* Emoji/Unicode icons */
    .menu-filter-tabs .nav-link .category-icon {
      font-size: 1.4em;
      line-height: 1;
      display: inline-block;
      min-width: 24px;
      text-align: center;
      color: #fff;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }
    
    .menu-filter-tabs .nav-link:hover .category-icon,
    .menu-filter-tabs .nav-link.active .category-icon {
      transform: scale(1.1);
      text-shadow: 0 2px 4px rgba(0,0,0,0.7);
    }

    /* Menu Pagination Styles */
    .menu-pagination-container {
      position: relative;
    }

    .menu-page {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }

    .menu-page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .menu-pagination .pagination {
      margin-top: 30px;
      margin-bottom: 20px;
    }

    .menu-pagination .page-link {
      background-color: transparent;
      border: 2px solid #343a40;
      color: #fff;
      padding: 8px 16px;
      margin: 0 2px;
      border-radius: 25px;
      transition: all 0.3s ease;
    }

    .menu-pagination .page-link:hover {
      background: linear-gradient(45deg, #cda45e, #d9ba85);
      border-color: #cda45e;
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(205, 164, 94, 0.3);
    }

    .menu-pagination .page-item.active .page-link {
      background: linear-gradient(45deg, #cda45e, #d9ba85);
      border-color: #cda45e;
      color: #fff;
      box-shadow: 0 4px 8px rgba(205, 164, 94, 0.4);
    }

    .menu-pagination .page-item.disabled .page-link {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: transparent;
      border-color: #343a40;
    }

    .menu-pagination .page-item.disabled .page-link:hover {
      background-color: transparent;
      transform: none;
      box-shadow: none;
    }

    /* Responsive pagination */
    @media (max-width: 768px) {
      .menu-pagination .page-link {
        padding: 6px 12px;
        font-size: 0.9rem;
      }
    }
  </style>

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://chefstefan.co.za/menu.html">
  <meta property="og:title" content="Culinary Menu | Chef Stefan Bekker - Bespoke Private Chef">
  <meta property="og:description" content="Explore Chef Stefan's exquisite culinary menu featuring fine dining, comfort food, and bespoke dining experiences.">
  <meta property="og:image" content="https://chefstefan.co.za/assets/img/chef-stefan-menu.jpg">

</head>

<body>

  <div id="topbar" class="d-flex align-items-center fixed-top">
    <div class="container d-flex justify-content-center justify-content-md-between">

      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-phone d-flex align-items-center"><span>+27 81 442 7434</span></i>
        <i class="bi bi-clock d-flex align-items-center ms-4"><span> Available 7 Days</span></i>
      </div>

      <div class="languages d-none d-md-flex align-items-center">
        <ul>
          <li><a href="index.html#book-a-table">Book Chef</li>
            <li> / </li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-cente">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-lg-between">

      <h1 class="logo me-auto me-lg-0"><a href="index.html"><img src="assets/img/logo.png" alt="Chef Stefan Logo" class="img-fluid me-2" style="height: 40px;"><span class="d-none d-md-inline">Private Chef Stefan</span></a></h1>

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a class="nav-link scrollto" href="index.html#hero">Home</a></li>
          <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
          <li><a class="nav-link scrollto" href="index.html#services">Services</a></li>
          <li><a class="nav-link scrollto active" href="menu.html">Menu</a></li>
          <li><a class="nav-link scrollto" href="cart.html">Cart</a></li>
          <li><a class="nav-link scrollto" href="chef-info.html">Chef Info</a></li>
          <li><a class="nav-link scrollto" href="blog.html">Blog</a></li>
          <li><a class="nav-link scrollto" href="gallery.html">Gallery</a></li>
          <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>
      <a href="index.html#book-a-table" class="book-a-table-btn scrollto d-none d-lg-flex">Book Chef</a>

    </div>
  </header>

  <main id="main">

    <!-- ======= Menu Hero Section ======= -->
    <section class="menu-hero-section">
      <div class="container position-relative text-center" data-aos="zoom-in" data-aos-delay="100">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <h1>Culinary <span>Menu</span></h1>
            <h2>Exquisite dishes crafted with passion and precision</h2>
            
            <!-- Menu Stats -->
            <div class="stats-row row justify-content-center mt-5">
              <div class="col-lg-3 col-md-6 col-6">
                <div class="stat-box">
                  <span class="stat-number" id="totalMenuItems">12+</span>
                  <div class="stat-label">Signature Dishes</div>
                </div>
              </div>
              <div class="col-lg-3 col-md-6 col-6">
                <div class="stat-box">
                  <span class="stat-number" id="totalCategories">4+</span>
                  <div class="stat-label">Menu Categories</div>
                </div>
              </div>
              <div class="col-lg-3 col-md-6 col-6">
                <div class="stat-box">
                  <span class="stat-number">100%</span>
                  <div class="stat-label">Fresh Ingredients</div>
                </div>
              </div>
              <div class="col-lg-3 col-md-6 col-6">
                <div class="stat-box">
                  <span class="stat-number">24h</span>
                  <div class="stat-label">Advance Notice</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ======= Menu Categories ======= -->
    <section class="menu-categories-section">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Browse by Category</h2>
          <p>Discover our curated collection of culinary experiences</p>
        </div>
        
        <div class="menu-filter-tabs">
          <ul class="nav nav-pills justify-content-center" id="menu-tabs">
            <!-- Dynamic tabs will be loaded here -->
          </ul>
        </div>
      </div>
    </section>

    <!-- ======= Menu Content ======= -->
    <section class="menu-content-section">
      <div class="container">
        <div class="tab-content" id="menu-content">
          <!-- Dynamic content will be loaded here -->
          <div class="text-center py-5" id="menu-loading">
            <i class="fas fa-spinner fa-spin fa-3x text-muted mb-3"></i>
            <h5 class="text-muted">Loading menu...</h5>
          </div>
        </div>
      </div>
    </section>


    <!-- ======= Cart Button (when cart is hidden) ======= -->
    <div id="cartButton" class="cart-button" style="display: none;">
      <button class="btn cart-btn" id="showCartBtn">
        <i class="bi bi-cart3"></i>
        <span class="cart-badge" id="cartBadge">0</span>
        <div class="cart-btn-text">
          <small>Cart</small>
          <div>R<span id="cartBtnTotal">0</span></div>
        </div>
      </button>
    </div>

    <!-- ======= Floating Cart Summary ======= -->
    <div id="floatingCart" class="floating-cart" style="display: none;">
      <div class="cart-header" id="cartHeader">
        <div class="cart-title">
          <i class="bi bi-cart-check"></i>
          <span>Your Order (<span id="cartItemCount">0</span> items)</span>
        </div>
        <div class="cart-controls">
          <span class="cart-total">R<span id="cartTotal">0</span></span>
          <button class="btn btn-sm cart-toggle" id="cartToggle">
            <i class="bi bi-chevron-up"></i>
          </button>
          <button class="btn btn-sm cart-close" id="cartClose">
            <i class="bi bi-x"></i>
          </button>
        </div>
      </div>
      
      <div class="cart-body" id="cartBody">
        <div class="cart-items" id="cartItems">
          <!-- Selected items will be populated here -->
        </div>
        
        <div class="cart-footer">
          <div class="cart-actions">
            <button class="btn btn-outline-secondary btn-sm" id="clearCart">
              <i class="bi bi-trash"></i> Clear All
            </button>
            <button class="btn btn-primary" id="proceedToBooking">
              <i class="bi bi-cart-check"></i> View Cart & Book
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- ======= Custom Menu Section ======= -->
    <section class="custom-menu-section section-bg">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Custom Menu Design</h2>
          <p>Can't find what you're looking for? Let's create something special together</p>
        </div>
        
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="custom-menu-card">
              <div class="row align-items-center">
                <div class="col-lg-6">
                  <h3>Bespoke Culinary Experience</h3>
                  <p>Every palate is unique, and so should be your dining experience. Work directly with Chef Stefan to create a completely personalized menu tailored to your preferences, dietary requirements, and special occasions.</p>
                  <ul class="custom-features">
                    <li><i class="bi bi-check2"></i> Personalized menu consultation</li>
                    <li><i class="bi bi-check2"></i> Dietary restriction accommodation</li>
                    <li><i class="bi bi-check2"></i> Seasonal ingredient focus</li>
                    <li><i class="bi bi-check2"></i> Wine pairing suggestions</li>
                    <li><i class="bi bi-check2"></i> Special occasion themes</li>
                  </ul>
                </div>
                <div class="col-lg-6 text-center">
                  <div class="custom-menu-image">
                    <img src="assets/img/gallery/gallery-8.jpeg" alt="Custom Menu Design" class="img-fluid rounded" id="custom-menu-image">
                  </div>
                  <div class="mt-4">
                    <a href="index.html#book-a-table" class="btn btn-primary btn-lg">
                      <i class="bi bi-chat-dots"></i> Design Custom Menu
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Chef Stefan</h3>
              <p>
                Cape Town, Stellenbosch<br>
                Paarl, Somerset West<br><br>
                <strong>Phone:</strong> +27 81 442 7434<br>
                <strong>Email:</strong> info@privatechefstefan.co.za<br>
              </p>
              <div class="social-links mt-3">
                <a href="https://www.instagram.com/privatechefstefan28" target="_blank" class="instagram"><i class="bx bxl-instagram"></i></a>
                <a href="https://www.facebook.com/privatechefstefan" target="_blank" class="facebook"><i class="bx bxl-facebook"></i></a>
                <a href="https://www.linkedin.com/in/chef-stefan-bekker" target="_blank" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                <a href="https://www.youtube.com/@brokenchef33" target="_blank" class="youtube"><i class="bx bxl-youtube"></i></a>
              </div>
            </div>
          </div>
          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Quick Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#hero">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#about">About</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="menu.html">Menu</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="gallery.html">Gallery</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Services</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Bespoke Dinner Parties</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Holiday Catering</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Weekly Meal Prep</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Corporate Catering</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#services">Menu Consulting</a></li>
            </ul>
          </div>
          <div class="col-lg-4 col-md-6 footer-newsletter">
            <h4>Book Your Experience</h4>
            <p>Ready to enjoy professional private chef services? Contact us for a bespoke culinary experience.</p>
            <div class="mt-3">
              <a href="index.html#book-a-table" class="btn btn-primary">Book Now</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Chef Stefan</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer>

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  
  <!-- Menu Page Functionality -->
  <script src="assets/js/menu-page.js"></script>
  
  <!-- Dynamic Menu Loader -->
  <script>
    // Load dynamic menu content from API
    class DynamicMenuLoader {
      constructor() {
        this.categories = [];
        this.menuItems = [];
        this.galleryImages = [];
      }

      async init() {
        console.log('Loading dynamic menu content...');
        await this.loadData();
        this.renderMenuContent();
      }

      async loadData() {
        try {
          // Load categories, menu items, and gallery images from API
          const [categoriesResponse, itemsResponse, galleryResponse] = await Promise.all([
            fetch('/api/categories'),
            fetch('/api/menu-items'),
            fetch('/api/gallery')
          ]);
          
          if (categoriesResponse.ok && itemsResponse.ok) {
            this.categories = await categoriesResponse.json();
            this.menuItems = await itemsResponse.json();
            
            // Load gallery images if available
            if (galleryResponse.ok) {
              this.galleryImages = await galleryResponse.json();
              console.log(`Loaded ${this.galleryImages.length} gallery images`);
            } else {
              this.galleryImages = [];
              console.warn('Gallery API not available');
            }
            
            console.log(`Loaded ${this.categories.length} categories and ${this.menuItems.length} menu items`);
          } else {
            console.warn('API endpoints not available');
            this.showNoDataMessage();
          }
        } catch (error) {
          console.error('Error loading menu data:', error);
          console.log('Unable to load menu data from backend API');
          this.showNoDataMessage();
        }
      }
      
      showNoDataMessage() {
        // Clear loading indicator
        const loadingElement = document.getElementById('menu-loading');
        if (loadingElement) {
          loadingElement.style.display = 'none';
        }
        
        // Show no data message
        const contentContainer = document.getElementById('menu-content');
        if (contentContainer) {
          contentContainer.innerHTML = `
            <div class="text-center py-5">
              <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>
              <h5 class="text-muted">Unable to load menu items</h5>
              <p>Please ensure the backend server is running and try refreshing the page.</p>
              <button class="btn btn-primary" onclick="location.reload()">
                <i class="fas fa-sync"></i> Refresh Page
              </button>
            </div>
          `;
        }
        
        // Clear tabs
        const tabsContainer = document.getElementById('menu-tabs');
        if (tabsContainer) {
          tabsContainer.innerHTML = '';
        }
      }

      renderMenuContent() {
        // Hide loading indicator
        const loadingElement = document.getElementById('menu-loading');
        if (loadingElement) {
          loadingElement.style.display = 'none';
        }
        
        // Group menu items by category
        const itemsByCategory = this.groupItemsByCategory();
        
        // Update custom menu image with a gallery image if available
        this.updateCustomMenuImage();
        
        // Update stats
        this.updateMenuStats();
        
        // Only render if we have items to show
        if (Object.keys(itemsByCategory).length > 0) {
          this.renderCategoryTabs(itemsByCategory);
          this.renderTabContent(itemsByCategory);
        } else {
          // Show message if no items to display
          const contentContainer = document.getElementById('menu-content');
          if (contentContainer) {
            contentContainer.innerHTML = `
              <div class="text-center py-5">
                <h5 class="text-muted">No menu items available at the moment.</h5>
                <p>Please check back later or contact us for current offerings.</p>
              </div>
            `;
          }
        }
      }

      groupItemsByCategory() {
        const groups = {};
        
        this.menuItems.forEach(item => {
          const categoryId = item.category_id;
          if (!groups[categoryId]) {
            groups[categoryId] = [];
          }
          groups[categoryId].push(item);
        });
        
        return groups;
      }

      renderCategoryTabs(itemsByCategory) {
        const tabsContainer = document.getElementById('menu-tabs');
        if (!tabsContainer) return;

        // Clear existing dynamic tabs
        tabsContainer.innerHTML = '';
        
        // Add "All" tab first
        const allTabItem = document.createElement('li');
        allTabItem.className = 'nav-item';
        
        const allNavLink = document.createElement('a');
        allNavLink.className = 'nav-link active'; // Make "All" active by default
        allNavLink.setAttribute('data-bs-toggle', 'pill');
        allNavLink.setAttribute('href', '#cat-all');
        allNavLink.innerHTML = `
          <i class="fas fa-th-large"></i>
          <span>All Items</span>
        `;
        
        allTabItem.appendChild(allNavLink);
        tabsContainer.appendChild(allTabItem);
        
        // Sort categories by display_order
        const sortedCategories = this.categories.sort((a, b) => a.display_order - b.display_order);

        // Add dynamic category tabs for categories that have items
        sortedCategories.forEach(category => {
          const categoryId = category.id;
          if (!itemsByCategory[categoryId]) return;

          const tabItem = document.createElement('li');
          tabItem.className = 'nav-item';
          
          const iconData = this.getCategoryIcon(category);
          
          const navLink = document.createElement('a');
          navLink.className = 'nav-link'; // Remove active class since "All" is now default
          navLink.setAttribute('data-bs-toggle', 'pill');
          navLink.setAttribute('href', `#cat-${categoryId}`);
          
          // Check if it's a Font Awesome class or emoji/unicode
          let iconHtml;
          if (iconData.startsWith('fas ') || iconData.startsWith('far ') || iconData.startsWith('fab ') || iconData.startsWith('fa-')) {
            // It's a Font Awesome icon class
            iconHtml = `<i class="${iconData}"></i>`;
          } else {
            // It's an emoji or unicode symbol
            iconHtml = `<span class="category-icon">${iconData}</span>`;
          }
          
          navLink.innerHTML = `
              ${iconHtml}
              <span>${category.name}</span>
          `;
          
          tabItem.appendChild(navLink);
          tabsContainer.appendChild(tabItem);
        });

        this.addTabEventListeners();
      }

      addTabEventListeners() {
        const tabs = document.querySelectorAll('#menu-tabs .nav-link');
        tabs.forEach(tab => {
          // Remove any existing listeners to prevent duplicates
          tab.replaceWith(tab.cloneNode(true));
        });

        // Re-query for the new nodes and add the listener
        document.querySelectorAll('#menu-tabs .nav-link').forEach(tab => {
            tab.addEventListener('click', function (event) {
                event.preventDefault();
                
                // Remove active class from all tabs
                document.querySelectorAll('#menu-tabs .nav-link').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('#menu-content .tab-pane').forEach(pane => {
                  pane.classList.remove('active', 'show');
                });
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Show corresponding content
                const targetId = this.getAttribute('href').substring(1);
                const targetPane = document.getElementById(targetId);
                if (targetPane) {
                  targetPane.classList.add('active', 'show');
                }
            });
        });
      }

      getCategoryIcon(category) {
        // If category has an icon, use it (expecting Unicode/emoji format)
        if (category.icon) {
          return category.icon;
        }
        
        // Provide meaningful default icons using Unicode symbols/emojis
        const categoryName = category.name.toLowerCase();
        
        // Handle specific category names
        if (categoryName === 'sad') {
          return 'ð';
        } else if (categoryName === 'categoryskjf') {
          return 'â';
        } else if (categoryName === 'food') {
          return 'ð³';
        }
        
        // More comprehensive food category matching with emojis
        else if (categoryName.includes('starter') || categoryName.includes('appetizer') || categoryName.includes('antipasto')) {
          return 'ð¥';
        } else if (categoryName.includes('main') || categoryName.includes('entree') || categoryName.includes('course')) {
          return 'ð½ï¸';
        } else if (categoryName.includes('dessert') || categoryName.includes('sweet') || categoryName.includes('cake') || categoryName.includes('ice cream')) {
          return 'ð°';
        } else if (categoryName.includes('drink') || categoryName.includes('beverage') || categoryName.includes('cocktail') || categoryName.includes('wine') || categoryName.includes('beer')) {
          return 'ð·';
        } else if (categoryName.includes('salad') || categoryName.includes('greens') || categoryName.includes('vegetable')) {
          return 'ð¥¬';
        } else if (categoryName.includes('soup') || categoryName.includes('broth') || categoryName.includes('bisque')) {
          return 'ð²';
        } else if (categoryName.includes('seafood') || categoryName.includes('fish') || categoryName.includes('shellfish') || categoryName.includes('oyster')) {
          return 'ð';
        } else if (categoryName.includes('meat') || categoryName.includes('steak') || categoryName.includes('beef') || categoryName.includes('lamb') || categoryName.includes('pork')) {
          return 'ð¥©';
        } else if (categoryName.includes('pasta') || categoryName.includes('noodle') || categoryName.includes('spaghetti')) {
          return 'ð';
        } else if (categoryName.includes('pizza') || categoryName.includes('flatbread')) {
          return 'ð';
        } else if (categoryName.includes('breakfast') || categoryName.includes('brunch')) {
          return 'ð';
        } else if (categoryName.includes('sandwich') || categoryName.includes('burger') || categoryName.includes('wrap')) {
          return 'ð¥ª';
        } else if (categoryName.includes('cheese') || categoryName.includes('dairy')) {
          return 'ð§';
        } else if (categoryName.includes('bread') || categoryName.includes('bakery') || categoryName.includes('pastry')) {
          return 'ð¥';
        } else if (categoryName.includes('snack') || categoryName.includes('finger food')) {
          return 'ð¿';
        } else if (categoryName.includes('special') || categoryName.includes('signature') || categoryName.includes('chef')) {
          return 'â­';
        } else if (categoryName.includes('vegetarian') || categoryName.includes('vegan')) {
          return 'ð±';
        } else if (categoryName.includes('spicy') || categoryName.includes('hot')) {
          return 'ð¶ï¸';
        } else if (categoryName.includes('cold') || categoryName.includes('chilled')) {
          return 'âï¸';
        } else {
          return 'ð´';
        }
      }

      renderTabContent(itemsByCategory) {
        const contentContainer = document.getElementById('menu-content');
        if (!contentContainer) return;

        // Clear existing content
        contentContainer.innerHTML = '';

        // Create "All" tab content first
        const allItems = this.menuItems; // All menu items
        const allTabPane = document.createElement('div');
        allTabPane.className = 'tab-pane fade active show'; // Make "All" active by default
        allTabPane.id = 'cat-all';

        // Add pagination for all items
        const allPaginatedContent = this.createPaginatedContent(allItems, 'all');
        allTabPane.innerHTML = allPaginatedContent;
        contentContainer.appendChild(allTabPane);

        // Sort categories by display_order
        const sortedCategories = this.categories.sort((a, b) => a.display_order - b.display_order);

        // Add dynamic content for categories that have items
        sortedCategories.forEach(category => {
          const categoryId = category.id;
          const items = itemsByCategory[categoryId];
          if (!items) return;

          const tabPane = document.createElement('div');
          tabPane.className = 'tab-pane fade'; // Remove active/show since "All" is now default
          tabPane.id = `cat-${categoryId}`;

          // Add pagination for categories with many items
          const paginatedContent = this.createPaginatedContent(items, categoryId);
          tabPane.innerHTML = paginatedContent;

          contentContainer.appendChild(tabPane);
        });
      }

      createPaginatedContent(items, categoryId) {
        const itemsPerPage = 6; // Show 6 items per page
        const totalPages = Math.ceil(items.length / itemsPerPage);
        
        if (totalPages <= 1) {
          // No pagination needed
          const itemsHtml = items.map((item, index) => this.renderMenuItem(item, index)).join('');
          return `<div class="row">${itemsHtml}</div>`;
        }

        // Create paginated content
        let paginatedHtml = '';
        
        // Create page containers
        for (let page = 0; page < totalPages; page++) {
          const startIndex = page * itemsPerPage;
          const endIndex = Math.min(startIndex + itemsPerPage, items.length);
          const pageItems = items.slice(startIndex, endIndex);
          
          const pageItemsHtml = pageItems.map((item, index) => 
            this.renderMenuItem(item, startIndex + index)
          ).join('');
          
          paginatedHtml += `
            <div class="menu-page ${page === 0 ? 'active' : ''}" data-page="${page}">
              <div class="row">
                ${pageItemsHtml}
              </div>
            </div>
          `;
        }

        // Add pagination controls
        const paginationControls = this.createPaginationControls(totalPages, categoryId);
        
        return `
          <div class="menu-pagination-container" data-category="${categoryId}">
            ${paginatedHtml}
            ${paginationControls}
          </div>
        `;
      }

      createPaginationControls(totalPages, categoryId) {
        if (totalPages <= 1) return '';

        let paginationHtml = `
          <div class="menu-pagination" data-category="${categoryId}">
            <nav aria-label="Menu pagination">
              <ul class="pagination justify-content-center mt-4">
                <li class="page-item disabled">
                  <a class="page-link" href="#" data-page="prev" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
        `;

        for (let i = 0; i < totalPages; i++) {
          paginationHtml += `
            <li class="page-item ${i === 0 ? 'active' : ''}">
              <a class="page-link" href="#" data-page="${i}">${i + 1}</a>
            </li>
          `;
        }

        paginationHtml += `
                <li class="page-item ${totalPages <= 1 ? 'disabled' : ''}">
                  <a class="page-link" href="#" data-page="next" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        `;

        return paginationHtml;
      }

      renderMenuItem(item, index) {
        const delay = (index % 4 + 1) * 100;
        
        // Try to get a gallery image for this menu item
        let imageSrc = item.image_path || this.getGalleryImage(item) || 'assets/img/gallery/gallery-1.jpeg';
        
        return `
          <div class="col-lg-6">
            <div class="menu-item" data-aos="fade-up" data-aos-delay="${delay}">
              <div class="menu-item-img">
                <img src="${imageSrc}" alt="${item.name}">
              </div>
              <div class="menu-item-content">
                <div class="menu-item-header">
                  <h4>${item.name}</h4>
                </div>
                <p>${item.description}</p>
                <div class="menu-item-footer">
                  <span class="dietary-info">
                    ${this.getDietaryInfo(item)}
                  </span>
                  <button class="btn-book-item" data-dish="${item.name}" data-price="R${item.price}">
                    <i class="bi bi-calendar-check"></i> Book This Dish - R${parseFloat(item.price).toFixed(2)}
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
      }

      getDietaryInfo(item) {
        const info = [];
        
        if (item.featured) {
          info.push('<i class="bi bi-award"></i> Featured');
        } else if (!item.available) {
          info.push('<i class="bi bi-x-circle"></i> Unavailable');
        } else if (item.price < 150) {
          info.push('<i class="bi bi-tag"></i> Value Pick');
        } else {
          info.push('<i class="bi bi-star"></i> Chef Special');
        }
        
        return info[0];
      }

      // Get a suitable gallery image for a menu item
      getGalleryImage(item) {
        if (!this.galleryImages || this.galleryImages.length === 0) {
          return null;
        }
        
        // Try to find a gallery image that matches the item type or is food-related
        const foodKeywords = ['food', 'dish', 'meal', 'cuisine'];
        const itemName = item.name.toLowerCase();
        
        // First, try to find an image with similar name or description
        let matchingImage = this.galleryImages.find(img => {
          const title = img.title.toLowerCase();
          const description = (img.description || '').toLowerCase();
          return title.includes(itemName) || description.includes(itemName);
        });
        
        // If no specific match, try to find a food-type image
        if (!matchingImage) {
          matchingImage = this.galleryImages.find(img => 
            img.type === 'food' || foodKeywords.includes(img.type)
          );
        }
        
        // If still no match, get a featured image
        if (!matchingImage) {
          matchingImage = this.galleryImages.find(img => img.featured);
        }
        
        // As last resort, get any gallery image
        if (!matchingImage && this.galleryImages.length > 0) {
          matchingImage = this.galleryImages[Math.floor(Math.random() * this.galleryImages.length)];
        }
        
        return matchingImage ? matchingImage.image_path : null;
      }

      // Update the custom menu section image with a gallery image
      updateCustomMenuImage() {
        const customMenuImage = document.getElementById('custom-menu-image');
        if (!customMenuImage || !this.galleryImages || this.galleryImages.length === 0) {
          return;
        }

        // Try to find a featured image first, then any food image, then any image
        let selectedImage = this.galleryImages.find(img => img.featured);
        if (!selectedImage) {
          selectedImage = this.galleryImages.find(img => img.type === 'food' || img.type === 'chef' || img.type === 'restaurant');
        }
        if (!selectedImage) {
          selectedImage = this.galleryImages[0]; // Use the first available image
        }

        if (selectedImage && selectedImage.image_path) {
          customMenuImage.src = selectedImage.image_path;
          customMenuImage.alt = selectedImage.title || 'Custom Menu Design';
        }
      }

      // Update menu statistics in the hero section
      updateMenuStats() {
        const totalMenuItemsElement = document.getElementById('totalMenuItems');
        const totalCategoriesElement = document.getElementById('totalCategories');

        if (totalMenuItemsElement && this.menuItems.length > 0) {
          totalMenuItemsElement.textContent = this.menuItems.length;
        }

        if (totalCategoriesElement && this.categories.length > 0) {
          totalCategoriesElement.textContent = this.categories.length;
        }
      }
    }

    // Initialize dynamic menu loader when DOM is ready
    document.addEventListener('DOMContentLoaded', async () => {
      const loader = new DynamicMenuLoader();
      await loader.init();
      
      // Add pagination event listeners
      document.addEventListener('click', handlePaginationClick);
      
      // Refresh AOS animations after content is loaded
      if (typeof AOS !== 'undefined') {
        setTimeout(() => {
          AOS.refresh();
        }, 100);
      }
      
      // Initialize menu page functionality after content loads
      if (typeof menuPage !== 'undefined') {
        console.log('Re-initializing menu page after content load');
        // The event listeners are now using delegation, so they should work automatically
      }
    });

    // Handle pagination clicks
    function handlePaginationClick(event) {
      if (!event.target.matches('.menu-pagination .page-link')) return;
      
      event.preventDefault();
      const pageLink = event.target;
      const pagination = pageLink.closest('.menu-pagination');
      const categoryId = pagination.dataset.category;
      const container = document.querySelector(`[data-category="${categoryId}"]`);
      
      if (!container) return;
      
      const currentActivePage = container.querySelector('.menu-page.active');
      const currentActivePageNum = parseInt(currentActivePage.dataset.page);
      const totalPages = container.querySelectorAll('.menu-page').length;
      
      let targetPage;
      const clickedPage = pageLink.dataset.page;
      
      if (clickedPage === 'prev') {
        targetPage = Math.max(0, currentActivePageNum - 1);
      } else if (clickedPage === 'next') {
        targetPage = Math.min(totalPages - 1, currentActivePageNum + 1);
      } else {
        targetPage = parseInt(clickedPage);
      }
      
      // Update active page
      container.querySelectorAll('.menu-page').forEach((page, index) => {
        page.classList.toggle('active', index === targetPage);
      });
      
      // Update pagination buttons
      const pageItems = pagination.querySelectorAll('.page-item');
      pageItems.forEach((item, index) => {
        if (index === 0) { // Previous button
          item.classList.toggle('disabled', targetPage === 0);
        } else if (index === pageItems.length - 1) { // Next button
          item.classList.toggle('disabled', targetPage === totalPages - 1);
        } else { // Number buttons
          item.classList.toggle('active', index - 1 === targetPage);
        }
      });
      
      // Scroll to menu content for better UX
      const menuContentSection = document.querySelector('.menu-content-section');
      if (menuContentSection) {
        menuContentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      
      // Refresh AOS animations
      if (typeof AOS !== 'undefined') {
        setTimeout(() => {
          AOS.refresh();
        }, 300);
      }
    }
  </script>

</body>

</html>